
@{
    ViewBag.Title = "ShowAlbumPhotos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<STNS.Models.Photo>
 
@*<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>*@
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<link href="~/Content/Gallery.css" rel="stylesheet" />


<h2 style="text-align:center">معرض الصور </h2>
<div class="container">
    <div class="row">
        <div class="gallery">
            @foreach (var item in Model)
            {
                <figure>
                    <img src="~/Files?id=@item.UserPhoto.FileId" alt="" />
                    <figcaption>@item.PhotoTitle</figcaption>
                </figure>
            }



        </div>
    </div>
</div>



<script>
    popup = {
  init: function(){
    $('figure').click(function(){
      popup.open($(this));
    });

    $(document).on('click', '.popup img', function(){
      return false;
    }).on('click', '.popup', function(){
      popup.close();
    })
  },
  open: function($figure) {
    $('.gallery').addClass('pop');
    $popup = $('<div class="popup" />').appendTo($('body'));
    $fig = $figure.clone().appendTo($('.popup'));
    $bg = $('<div class="bg" />').appendTo($('.popup'));
    $close = $('<div class="close"><svg><use xlink:href="#close"></use></svg></div>').appendTo($fig);
    $shadow = $('<div class="shadow" />').appendTo($fig);
    src = $('img', $fig).attr('src');
    $shadow.css({backgroundImage: 'url(' + src + ')'});
    $bg.css({backgroundImage: 'url(' + src + ')'});
    setTimeout(function(){
      $('.popup').addClass('pop');
    }, 10);
  },
  close: function(){
    $('.gallery, .popup').removeClass('pop');
    setTimeout(function(){
      $('.popup').remove()
    }, 100);
  }
}

popup.init()

</script>





